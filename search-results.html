<!-- Locations (with mice and cheese) -->
<div class="well" ng-show="search_results.length">
<div class="container">
    <i class="glyphicon glyphicon-remove pull-right clickable large-gray" ng-click="search_results=[];first_load=true;"></i>
    <h2><i class="glyphicon glyphicon-globe"></i> Locations</h2>

    <div ng-repeat="location in search_results | orderBy:['-size', 'name', 'stage'] | filter:{size: '!0'}">
        <div class="list-group col-sm-4" ng-init="is_collapsed = true">
            <!-- Location Title -->
            <a data-toggle="collapse" ng-click="is_collapsed = !is_collapsed" href="#location{{$id}}" class="text-capitalize list-group-item active">{{location.name | lowercase}} <span ng-show="location.stage.length">({{location.stage | lowercase}})</span><span class="badge pull-left">{{location.size}} {{location.size === 1 ? "mouse" : "mice"}}</span><i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': is_collapsed, 'glyphicon-chevron-up': !is_collapsed}"></i></a>
            <!-- Mice dropdown -->
            <div id="location{{$id}}" class="collapse">
                <div class="list-group-item" ng-repeat="mouse in location.mice | orderBy: 'name'">
                    <div class="row">
                        <div class="text-capitalize col-sm-6">
                            <i class="glyphicon glyphicon-remove pull-left clickable large-gray" ng-click="remove_a_mouse(mouse.name)"></i>&nbsp;<a href="{{mouse.mouse_wiki_url}}" target="_blank">{{mouse.name | lowercase}}</a>
                        </div>
                        <!-- Cheese list -->
                        <ul class="col-sm-6 list-group list-unstyled">
                            <li class="text-capitalize small list-group-item-warning" ng-repeat="cheese in mouse.cheeses | orderBy">
                                <small>{{cheese | lowercase}}</small>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <br ng-if="($index+1)%3==0" style="clear:both" />
    </div>
</div>
<p class="text-muted">(Sorted by number of mice) ({{mice_found}} {{mice_found === 1 ? "mouse" : "mice"}} found)</p>
</div>
